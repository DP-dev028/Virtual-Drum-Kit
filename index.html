<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Virtual Drum Kit</title>
<style>
    body {
        margin: 0;
        background: radial-gradient(ellipse at center, #1a1a1a 0%, #000 100%);
        font-family: 'Segoe UI', sans-serif;
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        height: 100vh;
        overflow: hidden;
    }
    h1 {
        margin-top: 20px;
        font-size: 2.5rem;
        color: #ffce00;
        text-shadow: 0 0 10px #ffce00;
    }
    .kit {
        display: grid;
        grid-template-columns: repeat(4, 120px);
        gap: 20px;
        margin-top: 40px;
    }
    .pad {
        width: 120px;
        height: 120px;
        background: linear-gradient(145deg, #2b2b2b, #1a1a1a);
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.5), inset 0 -4px 6px rgba(0,0,0,0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        text-transform: uppercase;
        cursor: pointer;
        transition: all 0.1s ease-in-out;
        border: 2px solid #333;
        text-align: center;
    }
    .pad.active {
        background: #ffce00;
        color: #000;
        box-shadow: 0 0 20px #ffce00, 0 0 40px #ffce00;
        transform: scale(0.95);
    }
    .controls {
        margin-top: 40px;
        display: flex;
        gap: 20px;
    }
    .btn {
        background: #222;
        border: none;
        padding: 10px 20px;
        color: #fff;
        font-size: 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: background 0.2s ease;
        border: 1px solid #555;
    }
    .btn:hover {
        background: #444;
    }
</style>
</head>
<body>
    <h1>Virtual Drum Kit</h1>
    <div class="kit">
        <div class="pad" data-key="65" data-sound="kick">A<br>Kick</div>
        <div class="pad" data-key="83" data-sound="snare">S<br>Snare</div>
        <div class="pad" data-key="68" data-sound="hihat">D<br>Hi-Hat</div>
        <div class="pad" data-key="70" data-sound="tom">F<br>Tom</div>
        <div class="pad" data-key="71" data-sound="clap">G<br>Clap</div>
        <div class="pad" data-key="72" data-sound="ride">H<br>Ride</div>
        <div class="pad" data-key="74" data-sound="cowbell">J<br>Cowbell</div>
        <div class="pad" data-key="75" data-sound="shaker">K<br>Shaker</div>
    </div>
    <div class="controls">
        <button class="btn" id="recordBtn">Start Recording</button>
        <button class="btn" id="playBtn" disabled>Play Recording</button>
        <button class="btn" id="clearBtn" disabled>Clear</button>
    </div>

<script>
const sounds = {
    kick: "https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3",
    snare: "https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3",
    hihat: "https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3",
    tom: "https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3",
    clap: "https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3",
    ride: "https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3",
    cowbell: "https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3",
    shaker: "https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"
};

function playSound(name) {
    const audio = new Audio(sounds[name]);
    audio.currentTime = 0;
    audio.play();
}

function activatePad(pad) {
    pad.classList.add('active');
    setTimeout(() => pad.classList.remove('active'), 150);
}

// Click events
document.querySelectorAll('.pad').forEach(pad => {
    pad.addEventListener('click', () => {
        const sound = pad.dataset.sound;
        playSound(sound);
        activatePad(pad);
        if (isRecording) {
            recording.push({ sound, time: Date.now() - recordStart });
        }
    });
});

// Keyboard events
window.addEventListener('keydown', e => {
    const pad = document.querySelector(`.pad[data-key="${e.keyCode}"]`);
    if (pad) {
        const sound = pad.dataset.sound;
        playSound(sound);
        activatePad(pad);
        if (isRecording) {
            recording.push({ sound, time: Date.now() - recordStart });
        }
    }
});

let isRecording = false;
let recording = [];
let recordStart = 0;

const recordBtn = document.getElementById('recordBtn');
const playBtn = document.getElementById('playBtn');
const clearBtn = document.getElementById('clearBtn');

// Recording button
recordBtn.addEventListener('click', () => {
    if (!isRecording) {
        recording = [];
        recordStart = Date.now();
        isRecording = true;
        recordBtn.textContent = "Stop Recording";
        playBtn.disabled = true;
        clearBtn.disabled = true;
    } else {
        isRecording = false;
        recordBtn.textContent = "Start Recording";
        playBtn.disabled = recording.length === 0;
        clearBtn.disabled = recording.length === 0;
    }
});

// Playback button
playBtn.addEventListener('click', () => {
    if (recording.length > 0) {
        recording.forEach(note => {
            setTimeout(() => {
                playSound(note.sound);
                const pad = document.querySelector(`.pad[data-sound="${note.sound}"]`);
                if (pad) activatePad(pad);
            }, note.time);
        });
    }
});

// Clear button
clearBtn.addEventListener('click', () => {
    recording = [];
    playBtn.disabled = true;
    clearBtn.disabled = true;
});
</script>
</body>
</html>